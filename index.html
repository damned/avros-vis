<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>System Visualisation</title>
    <meta name="description" content="VR system visualisation example using a-frame.js">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script crossorigin src="https://unpkg.com/lodash@1.3.0/dist/lodash.min.js"></script>
    <script crossorigin src="https://unpkg.com/aframe-aabb-collider-component@3.1.0/dist/aframe-aabb-collider-component.js"></script>
    <script crossorigin src="https://unpkg.com/aframe-layout-component@4.3.1/dist/aframe-layout-component.min.js"></script>
    <script src="src/aframe-utils.js"></script>
    <script src="src/balloon-label.js"></script>
    <script src="src/split.js"></script>
    <script src="src/placement.js"></script>
    <script src="src/edge.js"></script>
    <!--
        scripts coming in from vr-builder - that project used jquery, as move
        towards re-usable components, move off jquery onto plain dom js

        <script crossorigin src="https://code.jquery.com/jquery-3.4.1.js"></script>
      -->
    <script src="src/color.js"></script>
    <script src="src/follower.js"></script>
    <script src="src/follower-constraint.js"></script>
    <script src="src/grabber.js"></script>
    <script src="src/touch-source.js"></script>
    <script src="src/toucher.js"></script>
    <script src="src/move-handles.js"></script>

    <!--
        yet to port off jquery
    -->
    <script crossorigin src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="https://vr-builder.glitch.me/js/aframe-util.js"></script>
    <script src="https://vr-builder.glitch.me/js/hand.js"></script>
    <script src="https://vr-builder.glitch.me/js/user-move-handle.js"></script>
    <script src="https://vr-builder.glitch.me/js/user-mover.js"></script>
    <script type="application/javascript">
      aframeUtils.log.includeCaller = true
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <a-mixin id="srv"
                 geometry="primitive: box; height: 0.15; depth: 0.15; width: 0.15"></a-mixin>
        <img id="four-way-arrow" src="https://cdn.glitch.com/a0e144b7-dc44-4d24-a07d-26b1afe59bcf%2Ffour-way-arrow.png?v=1594823269623">
      </a-assets>

      <a-entity id="display" position="0 1 -1">

        <a-box id="server1"
               class="touchable" follower-constraint="lock: rotation"
               color="#666"
               balloon-label="label: server1"
               mixin="srv" position="-1 0 0"></a-box>

        <a-box id="server2"
               class="touchable" follower-constraint="lock: rotation"
               color="#666"
               balloon-label="label: server2"
               edge="from: #server1; color: lightgreen"
               mixin="srv" position="-1 0 -0.25"></a-box>

      </a-entity>


      <a-entity id="user-rig">
        <a-camera></a-camera>
        <a-entity id="left-hand" user-mover hand-side="left"></a-entity>
        <a-entity id="right-hand" user-mover hand-side="right"></a-entity>
      </a-entity>
      
      <a-entity move-handles="gap: 0.6; extent: 6; height: 0.85; size: 0.12"></a-entity>

      <a-text id="ddd" position="0 2 -2" scale="0.1 0.1 0.1"></a-text>

    </a-scene>
    <script>
      au.log.active = false
      
      const leftHand = Hand($('#left-hand'))
      const rightHand = Hand($('#right-hand'))
    </script>
  </body>
</html>